[{"D:\\React\\Pepper\\potezny_pepper\\src\\index.js":"1","D:\\React\\Pepper\\potezny_pepper\\src\\reportWebVitals.js":"2","D:\\React\\Pepper\\potezny_pepper\\src\\App.js":"3","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\postList.js":"4","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Login\\Login.js":"5","D:\\React\\Pepper\\potezny_pepper\\src\\components\\AddOffer\\AddOffer.js":"6","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\Post.js":"7","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Register\\Register.js":"8","D:\\React\\Pepper\\potezny_pepper\\src\\MainPage.js":"9","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\FullPost.js":"10","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\CommentList.js":"11","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\Comment.js":"12","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\SubmitList.js":"13","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\SubmitPost.js":"14","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\AddComment.js":"15","D:\\React\\Pepper\\potezny_pepper\\src\\components\\AdminPanel\\AdminPanel.js":"16","D:\\React\\Pepper\\potezny_pepper\\src\\components\\AdminPanel\\AdminPanelUser.js":"17"},{"size":587,"mtime":1607963457716,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"19"},{"size":255,"mtime":1607611583209,"results":"21","hashOfConfig":"19"},{"size":800,"mtime":1608056623316,"results":"22","hashOfConfig":"19"},{"size":2472,"mtime":1608113810894,"results":"23","hashOfConfig":"19"},{"size":3214,"mtime":1608112754015,"results":"24","hashOfConfig":"19"},{"size":3297,"mtime":1608127219528,"results":"25","hashOfConfig":"19"},{"size":2057,"mtime":1608205397296,"results":"26","hashOfConfig":"19"},{"size":3586,"mtime":1608206256771,"results":"27","hashOfConfig":"19"},{"size":5827,"mtime":1608127711250,"results":"28","hashOfConfig":"19"},{"size":1106,"mtime":1608128406263,"results":"29","hashOfConfig":"19"},{"size":438,"mtime":1607972585549,"results":"30","hashOfConfig":"19"},{"size":1512,"mtime":1608208790067,"results":"31","hashOfConfig":"19"},{"size":3743,"mtime":1608128243223,"results":"32","hashOfConfig":"19"},{"size":1315,"mtime":1608128297234,"results":"33","hashOfConfig":"19"},{"size":1461,"mtime":1608245257900,"results":"34","hashOfConfig":"19"},{"size":2625,"mtime":1608245718865,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1o5ogww",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"38"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"38"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"38"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\React\\Pepper\\potezny_pepper\\src\\index.js",[],["84","85"],"D:\\React\\Pepper\\potezny_pepper\\src\\reportWebVitals.js",[],"D:\\React\\Pepper\\potezny_pepper\\src\\App.js",["86"],"import logo from './logo.svg';\n\nimport './App.css';\nimport { BrowserRouter} from 'react-router-dom'\n\nimport MainPage from './MainPage';\n\nfunction App() {\n  \n  return (\n    <BrowserRouter>\n      <MainPage/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\postList.js",["87"],"import React, { Component } from 'react';\r\nimport Post from './Post'\r\n\r\nimport axios from 'axios';\r\n\r\nimport './PostList.css'\r\n\r\nclass postList extends Component {\r\n\r\n    state = {\r\n        posts: []\r\n      }\r\n\r\n    componentDidMount() {\r\n        axios.post(\"/getAcceptedPosts\").then(response => {\r\n            console.log(response.data);\r\n            this.setState({posts: response.data});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var posts = this.state.posts.map(post => <Post loggedUser={this.props.loggedUser} post={post}/>);\r\n        if(posts == \"\") posts = <p>Nie udało się wczytać postów</p>\r\n        console.log(this.state.posts)\r\n        return (\r\n            <div className=\"PostList\">\r\n                {posts}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default postList;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Login\\Login.js",["88"],"import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport './Login.css';\r\n\r\nclass Login extends Component {\r\n\r\n    state = {\r\n        login: \"\",\r\n        password: \"\",\r\n        error: false,\r\n        logged: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.loggedUser);\r\n        if (this.props.loggedUser) {\r\n            console.log(this.props)\r\n            this.setState({ logged: true });\r\n        }\r\n    }\r\n\r\n    loginHandler = (event) => {\r\n        event.preventDefault();\r\n        var user = {\r\n            login: this.state.login,\r\n            password: this.state.password\r\n        }\r\n        if (!sessionStorage.getItem(\"user\"))\r\n            axios.post('/login', user).then(response => {\r\n                if (response.data == 'NOT_FOUND') {\r\n                    this.setState({ error: true });\r\n                }\r\n                else {\r\n                    this.props.loginUserHandler(response.data);\r\n                    this.setState({ logged: true });\r\n                    sessionStorage.setItem('user', JSON.stringify(response.data));\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.loggedUser)\r\n            return (\r\n                <div class=\"form-container\">\r\n                    <form>\r\n                        <h3>Zaloguj się</h3><br />\r\n                        <input placeholder=\"login\" type=\"login\" value={this.state.login} onChange={(event) => this.setState({ login: event.target.value })} /><br />\r\n                        <input placeholder=\"Hasło\" type=\"password\" value={this.state.password} onChange={(event) => this.setState({ password: event.target.value })} /><br />\r\n                        {this.state.error ? <p id=\"error\">Niepoprawne dane, spróbuj ponownie.</p> : \"\"}\r\n                        {/* <button onClick = {() => this.props.loginHandler({username: this.state.login, password: this.state.password})}>Zaloguj</button> */}\r\n                        <button class=\"form-btn\" onClick={this.loginHandler}>Zaloguj</button>\r\n                    </form>\r\n                </div>\r\n            );\r\n        else\r\n            return (\r\n                <div class=\"form-container\">\r\n                    <p>Jesteś zalogowany jako {this.props.loggedUser.login}</p>\r\n                    <NavLink to=\"/\">Przejdź do strony głównej</NavLink>\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nexport default Login;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\AddOffer\\AddOffer.js",["89"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './AddOffer.css';\r\nimport DatePicker from 'react-date-picker'\r\n\r\nclass AddOffer extends Component {\r\n\r\n    state = {\r\n        title: \"\",\r\n        newPrice: undefined,\r\n        oldPrice: undefined,\r\n        link: \"\",\r\n        pictureUrl: \"\",\r\n        content: \"\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n        added: false\r\n    }\r\n\r\n    postDataHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            post: {\r\n                title: this.state.title,\r\n                content: this.state.content,\r\n                link: this.state.link,\r\n                pictureUrl: this.state.pictureUrl,\r\n                oldPrice: this.state.oldPrice,\r\n                newPrice: this.state.newPrice,\r\n                startDate: this.state.startDate,\r\n                endDate: this.state.endDate\r\n            }\r\n        }\r\n        console.log(\"data\", data);\r\n        axios.post(\"/postPost\", data).then(response => {\r\n            console.log(response);\r\n            if (response.status == 200) {\r\n                this.setState({ added: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.added)\r\n            return (\r\n                <div class=\"form-container\">\r\n                    <h3>Dodaj nową okazję</h3><br />\r\n                    <input id=\"title\" type=\"text\" value={this.state.title} onChange={(event) => this.setState({ title: event.target.value })} placeholder=\"Tytuł\" /><br />\r\n                    <input id=\"price\" type=\"number\" step=\"0.01\" value={this.state.newPrice} onChange={(event) => this.setState({ newPrice: event.target.value })} placeholder=\"Nowa cena\" /><br />\r\n                    <input id=\"price\" type=\"number\" step=\"0.01\" value={this.state.oldPrice} onChange={(event) => this.setState({ oldPrice: event.target.value })} placeholder=\"Stara cena\" /><br />\r\n                    <input id=\"link\" type=\"text\" value={this.state.pictureUrl} onChange={(event) => this.setState({ pictureUrl: event.target.value })} placeholder=\"Link do zdjęcia\" /><br />\r\n                    <p>Data rozpoczęcia</p>\r\n                    <DatePicker className=\"date\" value={this.state.startDate} onChange={date => this.setState({startDate: date})} /><br/>\r\n                    <p>Data zakończenia</p>\r\n                    <DatePicker className=\"date\" value={this.state.endDate} onChange={date => this.setState({endDate: date})}/><br/>\r\n                    <input id=\"link\" type=\"text\" value={this.state.link} onChange={(event) => this.setState({ link: event.target.value })} placeholder=\"Link do oferty\" /><br />\r\n                    <input id=\"content\" type=\"text\" value={this.state.content} onChange={(event) => this.setState({ content: event.target.value })} placeholder=\"Opis\" /><br />\r\n                    <button class=\"form-btn\" onClick={this.postDataHandler}>Dodaj</button>\r\n                </div>\r\n            );\r\n        else\r\n            return (\r\n                <div>\r\n                    Pomyślnie dodano post\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nexport default AddOffer;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\Post.js",["90","91","92"],"import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Post.css';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nclass Post extends Component {\r\n\r\n    state = {\r\n        vote: 0,\r\n        percent: 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        var vote = 0;\r\n        if (this.props.post.userVotes)\r\n            for (var i = 0; i < this.props.post.userVotes.length; i++) {\r\n                vote += this.props.post.userVotes[i].vote;\r\n            }\r\n        this.setState({ vote: vote });\r\n\r\n        if (this.props.post && this.props.post.newPrice && this.props.post.oldPrice) {\r\n            var percent = 100 - (this.props.post.newPrice * 100) / this.props.post.oldPrice;\r\n            percent = Math.floor(percent);\r\n            this.setState({ percent: -percent });\r\n        }\r\n    }\r\n\r\n    voteupHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            id: this.props.post.id,\r\n            vote: 1\r\n        }\r\n\r\n        axios.post(\"/vote\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data != \"BAD_REQUEST\")\r\n                this.setState({ vote: this.state.vote + 1 })\r\n        });\r\n    }\r\n\r\n    votedownHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            id: this.props.post.id,\r\n            vote: -1\r\n        }\r\n\r\n        axios.post(\"/vote\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data != \"BAD_REQUEST\")\r\n                this.setState({ vote: this.state.vote - 1 })\r\n        });\r\n    }\r\n\r\n    // var calcPercent {\r\n    //     var percent = 100 - (this.props.post.newPrice*100)/this.props.post.oldPrice;\r\n    //     console.log(percent)\r\n    //     return percent;\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Post\">\r\n\r\n                <NavLink to={{\r\n                    pathname: '/post',\r\n                    state: { post: this.props.post, loggedUser: this.props.loggedUser }\r\n                }}>Tytuł: {this.props.post.title}</NavLink>\r\n                { this.props.post.endDate && moment().isBefore(this.props.post.endDate) ? <h1 id=\"post-notstarted\">Okazja aktualna</h1> :\r\n                        this.props.post.endDate && moment().isAfter(this.props.post.endDate) ? <h1 id=\"post-ended\">Okazja zakończona</h1> : <h1 id=\"post-noinfo\">Brak daty zakończenia</h1>}\r\n                <div class=\"user-actions\">\r\n                    {this.props.loggedUser ? <button onClick={this.voteupHandler}>+</button> : \"\"}\r\n                    {this.props.loggedUser ? <button onClick={this.votedownHandler}>-</button> : \"\"}\r\n                </div>\r\n                <img src={this.props.post.pictureUrl}></img>\r\n\r\n\r\n                <p>Ocena: {this.state.vote}</p>\r\n\r\n                <br />\r\n                <p id=\"price\">Cena: {this.props.post.newPrice} </p><p id=\"oldprice\">{this.props.post.oldPrice}</p>\r\n                {this.state.percent < 0 ? <p id=\"lowpercent\"> ({this.state.percent} %)</p> : <p id=\"highpercent\"> (+ {this.state.percent} %)</p>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Post;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Register\\Register.js",["93"],"import React, { Component } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nclass Register extends Component {\r\n    state = {\r\n        login: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        error: false,\r\n        registered: false\r\n    }\r\n\r\n    registerHandler = () => {\r\n\r\n        var user = {\r\n            login: this.state.login,\r\n            password: this.state.password,\r\n            email: this.state.email\r\n        }\r\n\r\n        axios.post('/register', user).then(response => {\r\n            if (response.data == \"BAD_REQUEST\") {\r\n                this.setState({ error: true });\r\n            }\r\n            else {\r\n                this.setState({ registered: true });\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.registered)\r\n            return (\r\n                <div class=\"form-container\">\r\n                    {/* <p>State: {this.state.login} {this.state.password} {this.state.age}</p> */}\r\n                    <h3>Utwórz nowe konto</h3><br />\r\n                    <input placeholder=\"login\" type=\"login\" value={this.state.login} onChange={(event) => this.setState({ login: event.target.value })} /><br />\r\n                    <input placeholder=\"hasło\" type=\"password\" value={this.state.password} onChange={(event) => this.setState({ password: event.target.value })} /><br />\r\n                    <input placeholder=\"email\" type=\"text\" value={this.state.email} onChange={(event) => this.setState({ email: event.target.value })} /><br />\r\n                    {this.state.error ? <p id=\"error\">Login zajęty, spróbuj ponownie.</p> : \"\"}\r\n                    <button class=\"form-btn\" onClick={this.registerHandler}>Zarejestruj</button>\r\n                </div>\r\n            );\r\n        else\r\n            return (\r\n                <div>\r\n                    <p>Zarejestrowano pomyślnie, możesz się zalogować</p>\r\n                    <li><NavLink to=\"/login\">Logowanie</NavLink></li>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nexport default Register;","D:\\React\\Pepper\\potezny_pepper\\src\\MainPage.js",["94","95","96","97","98","99"],"import React, { Component } from 'react';\r\nimport { Route, NavLink} from 'react-router-dom'\r\n\r\nimport PostList from './components/Posts/postList'\r\nimport Login from './components/Login/Login'\r\nimport AddOffer from './components/AddOffer/AddOffer';\r\nimport Register from './components/Register/Register';\r\nimport FullPost from './components/Posts/FullPost';\r\nimport CommentList from './components/Comment/CommentList';\r\nimport SubmitList from './components/Posts/SubmitList';\r\nimport AddComment from './components/Comment/AddComment';\r\nimport AdminPanel from './components/AdminPanel/AdminPanel';\r\n\r\nclass MainPage extends Component {\r\n\r\n    state = {\r\n        loggedUser: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.state.loggedUser)\r\n        {\r\n            const loggedInUser = JSON.parse(sessionStorage.getItem(\"user\"));\r\n            if (loggedInUser) {\r\n                this.setState({loggedUser: loggedInUser});\r\n            }\r\n        }\r\n    }\r\n\r\n    logoutHandler = () => {\r\n        this.setState({loggedUser: null});\r\n        sessionStorage.clear();\r\n    }\r\n\r\n    loginUserHandler = (user) => {\r\n        // var logged = this.state.users.find(u => u.username == user.username);\r\n        // var logged = this.state.users.find((u) => {\r\n        //     if(u.username === user.username && u.password === user.password)\r\n        //     this.setState({loggedUser: u});\r\n        //   });\r\n        this.setState({loggedUser: user});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <ul>\r\n                        <li><NavLink to=\"/\" exact>Home</NavLink></li>\r\n                        {!this.state.loggedUser? <li><NavLink to=\"/login\">Login</NavLink></li> : \"\"}\r\n                        {!this.state.loggedUser? <li><NavLink to=\"/register\">Rejestracja</NavLink></li> : \"\"}\r\n                        {this.state.loggedUser? <li><NavLink to=\"/addoffer\">Dodaj ofertę</NavLink></li> : \"\"}\r\n                        {this.state.loggedUser && (this.state.loggedUser.role == \"admin\" || this.state.loggedUser.role == \"mod\") ? <li><NavLink to=\"/submitlist\">Do zweryfikowania</NavLink></li> : \"\"}\r\n                        {this.state.loggedUser && this.state.loggedUser.role == \"admin\" ? <li><NavLink to=\"/adminpanel\">Panel admina</NavLink></li> : \"\"}\r\n                        {this.state.loggedUser? <li>Użytkownik: {this.state.loggedUser.login}</li> : \"\"}\r\n                        {this.state.loggedUser? <a href=\"#\" onClick={this.logoutHandler}>Wyloguj</a> : \"\"}\r\n                    </ul>\r\n                </header>\r\n                <Route path=\"/\" exact component={() => <PostList loggedUser={this.state.loggedUser}/>} />\r\n                <Route path=\"/login\" component={() => <Login loginUserHandler={this.loginUserHandler} loggedUser={this.state.loggedUser}/>} />\r\n                <Route path=\"/register\" component={Register} />\r\n                <Route path=\"/addoffer\" component={() => <AddOffer loggedUser={this.state.loggedUser}/>} />\r\n                <Route path=\"/post\" component={FullPost} />\r\n                {/* <Route path=\"/post/:id\" component={() => <AddComment loggedUser={this.state.loggedUser}/>} />\r\n                <Route path=\"/post/:id\" component={CommentList} /> */}\r\n                <Route path=\"/submitlist\" component={() => <SubmitList loggedUser={this.state.loggedUser}/>} />\r\n                <Route path=\"/adminpanel\" component={() => <AdminPanel loggedUser={this.state.loggedUser}/>} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainPage;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\FullPost.js",["100","101","102","103","104"],"import React, { Component } from 'react';\r\nimport AddComment from '../Comment/AddComment';\r\nimport CommentList from '../Comment/CommentList';\r\nimport axios from 'axios';\r\nimport './FullPost.css';\r\nimport moment from 'moment';\r\nimport localization from 'moment/locale/pl';\r\n\r\nclass FullPost extends Component {\r\n\r\n    //tutaj nie będzie state, tylko metoda componentDidMount i wewnątrz z api bierzemy getById\r\n    state = {\r\n        post: null,\r\n        loggedUser: null,\r\n        vote: 0,\r\n        percent: 0,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state.post)\r\n            this.setState({ post: this.props.location.state.post });\r\n        if (this.props.location.state.loggedUser)\r\n            this.setState({ loggedUser: this.props.location.state.loggedUser });\r\n\r\n        var vote = 0;\r\n        if (this.props.location.state.post.userVotes)\r\n            for (var i = 0; i < this.props.location.state.post.userVotes.length; i++) {\r\n                vote += this.props.location.state.post.userVotes[i].vote;\r\n            }\r\n        this.setState({ vote: vote });\r\n\r\n        if (this.props.post && this.props.post.newPrice && this.props.post.oldPrice) {\r\n            var percent = 100 - (this.props.post.newPrice * 100) / this.props.post.oldPrice;\r\n            percent = Math.floor(percent);\r\n            this.setState({ percent: -percent });\r\n        }\r\n    }\r\n\r\n    voteupHandler = () => {\r\n        var data = {\r\n            login: this.state.loggedUser.login,\r\n            password: this.state.loggedUser.password,\r\n            id: this.state.post.id,\r\n            vote: 1\r\n        }\r\n\r\n        axios.post(\"/vote\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data != \"BAD_REQUEST\")\r\n                this.setState({ vote: this.state.vote + 1 })\r\n        });\r\n    }\r\n\r\n    votedownHandler = () => {\r\n        var data = {\r\n            login: this.state.loggedUser.login,\r\n            password: this.state.loggedUser.password,\r\n            id: this.state.post.id,\r\n            vote: -1\r\n        }\r\n\r\n        axios.post(\"/vote\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data != \"BAD_REQUEST\")\r\n                this.setState({ vote: this.state.vote - 1 })\r\n        });\r\n    }\r\n\r\n    deleteHandler = () => {\r\n        var data = {\r\n            login: this.state.loggedUser.login,\r\n            password: this.state.loggedUser.password,\r\n            id: this.state.post.id\r\n        }\r\n        axios.post(\"/deletePost\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data == \"OK\") {\r\n                this.setState({deleted: true});\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        moment.updateLocale('pl', localization);\r\n        if(this.state.deleted)\r\n            return (\r\n                <div className=\"full-post-container\">\r\n                    <p>Post został usunięty</p>\r\n                </div>\r\n            );\r\n        else if (this.state.post)\r\n            return (\r\n                <div className=\"full-post-container\">\r\n                    <div>\r\n                        { this.state.loggedUser && this.state.loggedUser.role === 'admin' ? <button className=\"del-btn\" onClick={this.deleteHandler}>Usuń post</button> : \"\" }\r\n                        <h1>Tytuł: {this.state.post.title}</h1>\r\n                        { this.state.post.startDate && moment().isBefore(this.state.post.startDate) ? <h1 id=\"notstarted\">Okazja jeszcze się nie zaczęła</h1> :\r\n                        this.state.post.endDate && moment().isAfter(this.state.post.endDate) ? <h1 id=\"ended\">Okazja zakończona</h1> : \"\"}\r\n                        <a href={this.state.post.link}><h4>--LINK DO OFERTY--</h4></a>\r\n                        <div><img className=\"img-container\" src={this.state.post.pictureUrl} /></div>\r\n\r\n                        <div className=\"all-info-container\">\r\n                            <div className=\"date-info\">                        <p>Początek: { this.state.post.startDate ? moment(this.state.post.startDate).format('LL') : \"[brak informacji]\"}</p>\r\n                                <p>Koniec: { this.state.post.endDate ? moment(this.state.post.endDate).format('LL') : \"[brak informacji]\"}</p></div>\r\n                            <div className=\"fullpost-user-actions\">\r\n                                {this.state.loggedUser ? <button onClick={this.voteupHandler}>+</button> : \"\"}\r\n                                {this.state.loggedUser ? <button onClick={this.votedownHandler}>-</button> : \"\"}\r\n                                <h2>Ocena: {this.state.vote}</h2>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div className=\"price-info\">                        <h3 id=\"price\">Cena: {this.state.post.newPrice} </h3><p id=\"oldprice\">{this.state.post.oldPrice}</p>\r\n                                {this.state.percent < 0 ? <p id=\"fullpost-lowpercent\"> ({this.state.percent} %)</p> : <p id=\"fullpost-highpercent\"> (+ {this.state.percent} %)</p>}</div>\r\n\r\n\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"desc\">\r\n                            <h3>Opis</h3>\r\n                            <p>{this.state.post.content ? this.state.post.content : \"Brak opisu\"}</p>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"comments-container\">\r\n                        <CommentList loggedUser={this.state.loggedUser} post={this.state.post} />\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        else\r\n            return (\r\n                <div className=\"desc\">\r\n                    <p>Nie znaleziono posta</p>\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nexport default FullPost;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\CommentList.js",["105"],"import React, { Component } from 'react';\r\nimport Comment from './Comment'\r\nimport axios from 'axios';\r\n\r\nimport './Comment.css'\r\nimport AddComment from './AddComment';\r\n\r\nclass CommentList extends Component {\r\n\r\n    state = {\r\n        comments: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.post && this.props.post.comments)\r\n            this.setState({ comments: this.props.post.comments });\r\n    }\r\n    // this.props.match.params.id\r\n\r\n    addCommentHandler = (login, text) => {\r\n        var comment = { id: 1, login: login, content: text };\r\n        this.setState({ comments: this.state.comments.concat(comment) });\r\n    }\r\n\r\n    render() {\r\n        var comments = this.state.comments.map(comment => <Comment comment={comment} />);\r\n        return (\r\n            <div className=\"CommentList\">\r\n                {this.props.loggedUser ? <AddComment addCommentHandler={this.addCommentHandler} loggedUser={this.props.loggedUser} post={this.props.post} /> : \"\"}\r\n                <br/><br/>\r\n                {comments}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommentList;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\Comment.js",["106"],"import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Comment.css';\r\n\r\nclass Comment extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"Comment\">\r\n                <p id=\"user\">{this.props.comment.login}</p>\r\n                <br/>\r\n                <p id=\"price\">{this.props.comment.content}</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Comment;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\SubmitList.js",["107","108"],"import React, { Component } from 'react';\r\nimport SubmitPost from './SubmitPost';\r\nimport axios from 'axios';\r\n\r\nclass SubmitList extends Component {\r\n    state = {\r\n        posts: []\r\n      }\r\n\r\n    componentDidMount() {\r\n    if(this.props.loggedUser)\r\n    {\r\n        var user = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n        }\r\n        axios.post(\"/getNotAcceptedPosts\", user).then(response => {\r\n            this.setState({posts: response.data});\r\n        });\r\n    }\r\n    }\r\n\r\n    deleteHandler = (id) => {\r\n        if(this.state.posts)\r\n        {\r\n            const newPosts = this.state.posts.filter(post => post.id !== id)\r\n            this.setState({posts: newPosts})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var posts = <p>Nie masz odpowiednich uprawnień</p>;\r\n        if(this.props.loggedUser && (this.props.loggedUser.role == \"admin\" || this.props.loggedUser.role == \"mod\"))\r\n        {\r\n            if(this.state.posts)\r\n            {\r\n                posts = this.state.posts.map(post => {\r\n                    return <SubmitPost loggedUser={this.props.loggedUser} post={post} deleteHandler={this.deleteHandler} />\r\n                });\r\n            }\r\n            else\r\n            {\r\n                posts = <p>Brak postów to zaakceptowania.</p>\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"PostList\">\r\n                {posts}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SubmitList;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Posts\\SubmitPost.js",["109","110","111","112","113"],"import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Post.css';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport localization from 'moment/locale/pl';\r\n\r\nclass SubmitPost extends Component {\r\n\r\n    state = {\r\n        accepted: false,\r\n        deleted: false,\r\n        percent: 0,\r\n        currDate: new Date()\r\n    }\r\n\r\n    componentDidMount() {\r\n        moment.updateLocale('pl', localization);\r\n        if (this.props.post && this.props.post.newPrice && this.props.post.oldPrice) {\r\n            var percent = 100 - (this.props.post.newPrice * 100) / this.props.post.oldPrice;\r\n            percent = Math.floor(percent);\r\n            this.setState({ percent: -percent });\r\n        }\r\n    }\r\n\r\n    acceptHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            id: this.props.post.id\r\n        }\r\n        axios.post(\"/acceptPost\", data).then(response => {\r\n            console.log(response.data == \"OK\");\r\n            if (response.data == \"OK\") {\r\n                this.setState({ accepted: true })\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            id: this.props.post.id\r\n        }\r\n        axios.post(\"/deletePost\", data).then(response => {\r\n            console.log(response);\r\n            if (response.data == \"OK\") {\r\n                this.setState({ deleted: true })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var now = moment();\r\n        if (this.state.deleted)\r\n            return (\r\n                <div className=\"del-action-information\">\r\n                    <h2>Post został usunięty</h2>\r\n                </div>\r\n            )\r\n        else if (this.state.accepted)\r\n            return (\r\n                <div className=\"post-action-information\">\r\n                    <h2>Post został dodany</h2>\r\n                </div>\r\n            )\r\n        else if (this.props.post)\r\n            return (\r\n                <div className=\"admin-post\">\r\n                    <NavLink to={{\r\n                        pathname: '/post',\r\n                        state: { post: this.props.post, loggedUser: this.props.loggedUser }\r\n                    }}>Tytuł: {this.props.post.title}</NavLink>\r\n                    <img src={this.props.post.pictureUrl}></img>\r\n                    { this.props.post.endDate && moment().isBefore(this.props.post.endDate) ? <h1 id=\"post-notstarted\">Okazja aktualna</h1> :\r\n                        this.props.post.endDate && moment().isAfter(this.props.post.endDate) ? <h1 id=\"post-ended\">Okazja zakończona</h1> : <h1 id=\"post-noinfo\">Brak daty zakończenia</h1>}\r\n                    <p id=\"price\">Cena: {this.props.post.newPrice} </p><p id=\"oldprice\">{this.props.post.oldPrice}</p>\r\n                    {this.state.percent < 0 ? <p id=\"lowpercent\"> ({this.state.percent} %)</p> : <p id=\"highpercent\"> (+ {this.state.percent} %)</p>}\r\n                    {/* <p>Opis:</p>\r\n                    <p>{this.props.post.content}</p> zajmuje za dużo miejsca*/}\r\n                    <p>Początek: { this.props.post.startDate ? moment(this.props.post.startDate).format('LL') : \"[brak informacji]\"}</p>\r\n                    <p>Koniec: { this.props.post.endDate ? moment(this.props.post.endDate).format('LL') : \"[brak informacji]\"}</p>\r\n                    <button onClick={this.acceptHandler}>Zaakceptuj</button>\r\n                    <button onClick={this.deleteHandler}>Usuń</button>\r\n                    <br />\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nexport default SubmitPost;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\Comment\\AddComment.js",["114"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nclass AddComment extends Component {\r\n\r\n    state = {\r\n        text: \"\"\r\n    }\r\n\r\n    addCommentHandler = () => {\r\n        var data = {\r\n            login: this.props.loggedUser.login,\r\n            password: this.props.loggedUser.password,\r\n            content: this.state.text,\r\n            postId: this.props.post.id\r\n        }\r\n        \r\n        if(this.state.content)\r\n        axios.post(\"/postComment\", data).then(response => {\r\n            if (response.data == \"OK\") {\r\n                this.props.addCommentHandler(this.props.loggedUser.login, this.state.text);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.loggedUser)\r\n            return (\r\n                <div>\r\n                    <input className=\"input-comment\" placeholder=\"Treść komentarz\" value={this.state.text} onChange={(event) => this.setState({ text: event.target.value })}></input>\r\n                    <button class=\"form-btn\" onClick={this.addCommentHandler}>Dodaj komentarz</button>\r\n                </div>\r\n            );\r\n        else\r\n            return (\r\n                <div>\r\n                    <p>Żeby dodać komentarz musisz się zalogować</p>\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nexport default AddComment;","D:\\React\\Pepper\\potezny_pepper\\src\\components\\AdminPanel\\AdminPanel.js",["115","116"],"D:\\React\\Pepper\\potezny_pepper\\src\\components\\AdminPanel\\AdminPanelUser.js",[],{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":1,"column":8,"nodeType":"123","messageId":"124","endLine":1,"endColumn":12},{"ruleId":"125","severity":1,"message":"126","line":23,"column":18,"nodeType":"127","messageId":"128","endLine":23,"endColumn":20},{"ruleId":"125","severity":1,"message":"126","line":32,"column":35,"nodeType":"127","messageId":"128","endLine":32,"endColumn":37},{"ruleId":"125","severity":1,"message":"126","line":38,"column":33,"nodeType":"127","messageId":"128","endLine":38,"endColumn":35},{"ruleId":"125","severity":1,"message":"129","line":39,"column":31,"nodeType":"127","messageId":"128","endLine":39,"endColumn":33},{"ruleId":"125","severity":1,"message":"129","line":54,"column":31,"nodeType":"127","messageId":"128","endLine":54,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":79,"column":17,"nodeType":"132","endLine":79,"endColumn":55},{"ruleId":"125","severity":1,"message":"126","line":24,"column":31,"nodeType":"127","messageId":"128","endLine":24,"endColumn":33},{"ruleId":"121","severity":1,"message":"133","line":9,"column":8,"nodeType":"123","messageId":"124","endLine":9,"endColumn":19},{"ruleId":"121","severity":1,"message":"134","line":11,"column":8,"nodeType":"123","messageId":"124","endLine":11,"endColumn":18},{"ruleId":"125","severity":1,"message":"126","line":53,"column":79,"nodeType":"127","messageId":"128","endLine":53,"endColumn":81},{"ruleId":"125","severity":1,"message":"126","line":53,"column":120,"nodeType":"127","messageId":"128","endLine":53,"endColumn":122},{"ruleId":"125","severity":1,"message":"126","line":54,"column":78,"nodeType":"127","messageId":"128","endLine":54,"endColumn":80},{"ruleId":"135","severity":1,"message":"136","line":56,"column":49,"nodeType":"132","endLine":56,"endColumn":90},{"ruleId":"121","severity":1,"message":"134","line":2,"column":8,"nodeType":"123","messageId":"124","endLine":2,"endColumn":18},{"ruleId":"125","severity":1,"message":"129","line":50,"column":31,"nodeType":"127","messageId":"128","endLine":50,"endColumn":33},{"ruleId":"125","severity":1,"message":"129","line":65,"column":31,"nodeType":"127","messageId":"128","endLine":65,"endColumn":33},{"ruleId":"125","severity":1,"message":"126","line":78,"column":31,"nodeType":"127","messageId":"128","endLine":78,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":101,"column":30,"nodeType":"132","endLine":101,"endColumn":96},{"ruleId":"121","severity":1,"message":"137","line":3,"column":8,"nodeType":"123","messageId":"124","endLine":3,"endColumn":13},{"ruleId":"121","severity":1,"message":"138","line":2,"column":10,"nodeType":"123","messageId":"124","endLine":2,"endColumn":17},{"ruleId":"125","severity":1,"message":"126","line":33,"column":65,"nodeType":"127","messageId":"128","endLine":33,"endColumn":67},{"ruleId":"125","severity":1,"message":"126","line":33,"column":106,"nodeType":"127","messageId":"128","endLine":33,"endColumn":108},{"ruleId":"125","severity":1,"message":"126","line":33,"column":39,"nodeType":"127","messageId":"128","endLine":33,"endColumn":41},{"ruleId":"125","severity":1,"message":"126","line":34,"column":31,"nodeType":"127","messageId":"128","endLine":34,"endColumn":33},{"ruleId":"125","severity":1,"message":"126","line":48,"column":31,"nodeType":"127","messageId":"128","endLine":48,"endColumn":33},{"ruleId":"121","severity":1,"message":"139","line":55,"column":13,"nodeType":"123","messageId":"124","endLine":55,"endColumn":16},{"ruleId":"130","severity":1,"message":"131","line":75,"column":21,"nodeType":"132","endLine":75,"endColumn":59},{"ruleId":"125","severity":1,"message":"126","line":20,"column":31,"nodeType":"127","messageId":"128","endLine":20,"endColumn":33},{"ruleId":"125","severity":1,"message":"126","line":22,"column":64,"nodeType":"127","messageId":"128","endLine":22,"endColumn":66},{"ruleId":"125","severity":1,"message":"126","line":33,"column":69,"nodeType":"127","messageId":"128","endLine":33,"endColumn":71},"no-native-reassign",["140"],"no-negated-in-lhs",["141"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'CommentList' is defined but never used.","'AddComment' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'axios' is defined but never used.","'NavLink' is defined but never used.","'now' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]